esphome:
  name: linp_doorbell
  platform: ESP32
  board: esp32doit-devkit-v1
  includes:
    - linp-doorbell.h
  libraries:
    - "ArduinoQueue"
  platformio_options:
    platform: espressif32@1.11.0
    platform_packages: |-4
      
          framework-arduinoespressif32 @ https://github.com/pauln/arduino-esp32.git#solo-no-mac-crc/1.0.4

wifi:
  ssid: 'your-wifi-ssid-here'
  password: 'put-your-wifi-password-here'

# Enable Home Assistant API
api:
  password: 'set-an-api-password-here'

custom_component:
- id: doorbell
  lambda: |-
    auto doorbell = new LinpDoorbell();
    App.register_component(doorbell);
    return {doorbell};

sensor:
  - platform: custom
    lambda: |-
      return {
        get_linp_doorbell(doorbell)->volume_sensor,
        get_linp_doorbell(doorbell)->chime1_sensor,
        get_linp_doorbell(doorbell)->chime2_sensor,
        get_linp_doorbell(doorbell)->chime3_sensor,
        get_linp_doorbell(doorbell)->chime4_sensor,
        get_linp_doorbell(doorbell)->chime5_sensor,
        get_linp_doorbell(doorbell)->chime6_sensor,
        get_linp_doorbell(doorbell)->chime7_sensor,
        get_linp_doorbell(doorbell)->chime8_sensor,
        get_linp_doorbell(doorbell)->chime9_sensor,
        get_linp_doorbell(doorbell)->chime10_sensor,
        get_linp_doorbell(doorbell)->playing_sensor
      };
    sensors:
      - name: "Volume"
      - name: "Button 1 Tune"
      - name: "Button 2 Tune"
      - name: "Button 3 Tune"
      - name: "Button 4 Tune"
      - name: "Button 5 Tune"
      - name: "Button 6 Tune"
      - name: "Button 7 Tune"
      - name: "Button 8 Tune"
      - name: "Button 9 Tune"
      - name: "Button 10 Tune"
      - name: "Tune Playing" # Optional

# Binary sensors are optional, mostly useful if you want to use them for local
# automation on the ESPHome node.  Home Assistant events are automatically
# triggered whether or not these binary sensors are set up.
binary_sensor:
  - platform: custom
    lambda: |-
      return {
        get_linp_doorbell(doorbell)->button1_sensor,
        get_linp_doorbell(doorbell)->button2_sensor,
        get_linp_doorbell(doorbell)->button3_sensor,
        get_linp_doorbell(doorbell)->button4_sensor,
        get_linp_doorbell(doorbell)->button5_sensor,
        get_linp_doorbell(doorbell)->button6_sensor,
        get_linp_doorbell(doorbell)->button7_sensor,
        get_linp_doorbell(doorbell)->button8_sensor,
        get_linp_doorbell(doorbell)->button9_sensor,
        get_linp_doorbell(doorbell)->button10_sensor
      };
    binary_sensors:
      - name: "Button 1"
      - name: "Button 2"
      - name: "Button 3"
      - name: "Button 4"
      - name: "Button 5"
      - name: "Button 6"
      - name: "Button 7"
      - name: "Button 8"
      - name: "Button 9"
      - name: "Button 10"